{"version":3,"file":"1466.71c89bea2489fd33.js","mappings":"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","names":["i0","produto_r2","_r1","$implicit","ctx_r2","editProduto","deleteProduto","id","nome","preco","tipoproduto","ncm","codigobarras","retornaStatusString","status","routes","path","component","_ProdutoPage","ProdutoPage","constructor","combustivelService","alertController","combustivelDataService","router","this","produtos","newProduto","idbicos","idbombas","ehcombustivel","anp","ngOnInit","ionViewWillEnter","loadProdutos","_this","_asyncToGenerator","getAllCombustiveisProduto","sort","a","b","localeCompare","addProduto","_this2","addCombustivel","create","header","message","buttons","present","_this3","_ref","text","role","handler","deleteCombustivel","apply","arguments","produto","setCombustivel","navigate","i1","i2","i3","i4","selectors","decls","vars","consts","template","rf","ctx","ProdutoPage_ion_accordion_8_Template","ProdutoPageRoutingModule","_ProdutoPageRoutingModule","RouterModule","forChild","ProdutoPageModule","_ProdutoPageModule","CommonModule","FormsModule","IonicModule"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/cadastro/produto/produto.page.html","./src/app/pages/cadastro/produto/produto-routing.module.ts","./src/app/pages/cadastro/produto/produto.page.ts","./src/app/pages/cadastro/produto/produto.module.ts"],"sourcesContent":["<!--  src\\app\\pages\\cadastro\\produto\\produto.page.html -->\r\n\r\n<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>Produtos</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-accordion-group>\r\n    <ion-accordion *ngFor=\"let produto of produtos\">\r\n      <ion-item slot=\"header\">\r\n        <ion-label>{{ produto.id }} - {{ produto.nome }} - R$:{{ produto.preco | number: '1.2-2' }}</ion-label>\r\n        <ion-buttons slot=\"end\">\r\n          <ion-button (click)=\"editProduto(produto)\"> Editar </ion-button>\r\n          <ion-button color=\"danger\" (click)=\"deleteProduto(produto.id)\"> Deletar </ion-button>\r\n        </ion-buttons>\r\n      </ion-item>\r\n      <ion-list slot=\"content\">\r\n        <ion-item>\r\n          <ion-label>\r\n            <h2>Código: {{ produto.id }}</h2>\r\n            <p>Nome: {{ produto.nome }}</p>\r\n            <p>Tipo produto: {{ produto.tipoproduto }}</p>\r\n            <p>Preço: {{ produto.preco | number: '1.2-2' }}</p>\r\n            <p>NCM: {{ produto.ncm }}</p>\r\n            <p>Código de barras: {{ produto.codigobarras }}</p>\r\n            <p>Status: {{ retornaStatusString(produto.status) }}</p>\r\n          </ion-label>\r\n        </ion-item>\r\n      </ion-list>\r\n    </ion-accordion>\r\n  </ion-accordion-group>\r\n\r\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\r\n    <ion-fab-button (click)=\"editProduto({ id: null, nome: '', idbicos: '', idbombas: '', preco: 0.0000, tipoproduto: '', status: true, ehcombustivel: false, ncm: '', anp: '', codigobarras: '' })\">\r\n      <ion-icon name=\"add\"></ion-icon>\r\n    </ion-fab-button>\r\n  </ion-fab>\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProdutoPage } from './produto.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProdutoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProdutoPageRoutingModule {}\r\n","// src\\app\\pages\\cadastro\\produto\\produto.page.ts\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { CombustivelService } from '../../../services/combustivel/combustivel.service';\r\nimport { Combustivel } from '../../../services/database.service';\r\nimport { CombustivelDataService } from '../../../services/combustivel-data/combustivel-data.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-produto',\r\n  templateUrl: './produto.page.html',\r\n  styleUrls: ['./produto.page.scss'],\r\n})\r\nexport class ProdutoPage implements OnInit {\r\n  produtos: Combustivel[] = [];\r\n  newProduto: Combustivel = { \r\n    id: null, \r\n    nome: '', \r\n    idbicos: '', \r\n    idbombas: '', \r\n    preco: 0.0, \r\n    tipoproduto: '',\r\n    status: true,\r\n    ehcombustivel: false,\r\n    ncm: '',\r\n    anp: '',\r\n    codigobarras: ''};\r\n\r\n  constructor(\r\n    private combustivelService: CombustivelService,\r\n    private alertController: AlertController,\r\n    private combustivelDataService: CombustivelDataService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    //this.loadCombustiveis();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    // Este método é chamado sempre que a página está prestes a ser exibida\r\n    // Garante que os combustíveis sejam carregados sempre que o usuário voltar para esta página\r\n    this.loadProdutos();\r\n  }\r\n\r\n  async loadProdutos() {\r\n    this.produtos = await this.combustivelService.getAllCombustiveisProduto();\r\n    this.produtos.sort((a, b) => a.nome.localeCompare(b.nome));\r\n  }\r\n\r\n  async addProduto() {\r\n    if (this.newProduto.nome && this.newProduto.preco) {\r\n      const id = await this.combustivelService.addCombustivel(\r\n        this.newProduto.id,\r\n        this.newProduto.nome,\r\n        this.newProduto.idbicos,\r\n        this.newProduto.idbombas,\r\n        this.newProduto.preco,\r\n        this.newProduto.tipoproduto, \r\n        this.newProduto.status, \r\n        this.newProduto.ehcombustivel, \r\n        this.newProduto.ncm, \r\n        this.newProduto.anp, \r\n        this.newProduto.codigobarras\r\n      );\r\n      this.newProduto.id = id;\r\n      this.newProduto = { \r\n        id: null, \r\n        nome: '', \r\n        idbicos: '', \r\n        idbombas: '', \r\n        preco: 0.0, \r\n        tipoproduto: '',\r\n        status: true,\r\n        ehcombustivel: false,\r\n        ncm: '',\r\n        anp: '',\r\n        codigobarras: ''\r\n      };\r\n      this.loadProdutos();\r\n      const alert = await this.alertController.create({\r\n        header: 'Sucesso',\r\n        message: `Produto ${id} - ${this.newProduto.nome} salvo com sucesso!`,\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n    }\r\n  }\r\n\r\n  async deleteProduto(id: number) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Confirmar Exclusão',\r\n      message: 'Deseja realmente excluir este produto?',\r\n      buttons: [\r\n        {\r\n          text: 'Não',\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: 'Sim',\r\n          handler: async () => {\r\n            await this.combustivelService.deleteCombustivel(id);\r\n            this.loadProdutos();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  editProduto(produto: Combustivel) {\r\n    this.combustivelDataService.setCombustivel(produto);\r\n    this.router.navigate(['/cadproduto']);\r\n  }\r\n\r\n  retornaStatusString(status:boolean): string{\r\n    if (status){\r\n      return 'ATIVO';\r\n    }else if(!status){\r\n      return 'INATIVO';\r\n    }else{\r\n      return '';\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProdutoPageRoutingModule } from './produto-routing.module';\r\n\r\nimport { ProdutoPage } from './produto.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ProdutoPageRoutingModule\r\n  ],\r\n  declarations: [ProdutoPage]\r\n})\r\nexport class ProdutoPageModule {}\r\n"],"x_google_ignoreList":[]}