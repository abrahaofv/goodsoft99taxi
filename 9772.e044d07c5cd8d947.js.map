{"version":3,"file":"9772.e044d07c5cd8d947.js","mappings":"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","names":["i0","bomba_r1","idbomba","bico_r2","routes","path","component","_CaddescontoscombustiveisPage","CaddescontoscombustiveisPage","constructor","bombaService","combustivelService","descontoDataService","alertController","router","utilService","this","bombas","bicos","descontosCombustiveis","iddesconto","idcombustivel","idbico","nome","preco","totallitros","totalprecocombustivel","totaldescontocombustivel","totaldescontorecebidocombustivel","index","ngOnInit","loadBombas","currentData","getCurrentDescontoCombustivel","item","loadBicos","loadCombustivel","_this","_asyncToGenerator","getAllBombas","_this2","getBicosByBomba","_this3","combustivel","getCombustivelByBombaAndBico","id","verificarEConverterPreco","calculateTotals","saveProduto","_this4","showAlert","updateDescontoCombustivel","addDescontoCombustivel","navigate","deleteProduto","_this5","getDescontosCombustiveis","splice","header","message","_this6","create","buttons","present","voltar","i1","i2","i3","i4","i5","i6","selectors","decls","vars","consts","template","rf","ctx","$event","CaddescontoscombustiveisPage_ion_select_option_11_Template","CaddescontoscombustiveisPage_ion_select_option_16_Template","CaddescontoscombustiveisPageRoutingModule","_CaddescontoscombustiveisPageRoutingModule","RouterModule","forChild","CaddescontoscombustiveisPageModule","_CaddescontoscombustiveisPageModule","CommonModule","FormsModule","IonicModule"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/pages/cadastro/caddescontoscombustiveis/caddescontoscombustiveis.page.html","./src/app/pages/cadastro/caddescontoscombustiveis/caddescontoscombustiveis-routing.module.ts","./src/app/pages/cadastro/caddescontoscombustiveis/caddescontoscombustiveis.page.ts","./src/app/pages/cadastro/caddescontoscombustiveis/caddescontoscombustiveis.module.ts"],"sourcesContent":["<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Cadastro de Descontos Combustíveis</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Bomba</ion-label>\r\n    <ion-select [(ngModel)]=\"descontosCombustiveis.idbomba\" (ionChange)=\"loadBicos(descontosCombustiveis.idbomba)\">\r\n      <ion-select-option *ngFor=\"let bomba of bombas\" [value]=\"bomba.idbomba\">{{ bomba.idbomba }}</ion-select-option>\r\n    </ion-select>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Bico</ion-label>\r\n    <ion-select [(ngModel)]=\"descontosCombustiveis.idbico\" (ionChange)=\"loadCombustivel(descontosCombustiveis.idbomba, descontosCombustiveis.idbico)\">\r\n      <ion-select-option *ngFor=\"let bico of bicos\" [value]=\"bico\">{{ bico }}</ion-select-option>\r\n    </ion-select>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Nome</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.nome\" readonly></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Preço</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.preco\" readonly></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Total Litros</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.totallitros\" type=\"number\" inputmode=\"numeric\" (ionChange)=\"calculateTotals()\"></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Valor Total</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.totalprecocombustivel\" readonly></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Valor Desconto Recebido</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.totaldescontorecebidocombustivel\" readonly></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-item lines=\"full\">\r\n    <ion-label position=\"stacked\">Total com Desconto</ion-label>\r\n    <ion-input [(ngModel)]=\"descontosCombustiveis.totaldescontocombustivel\" readonly></ion-input>\r\n  </ion-item>\r\n\r\n  <ion-button expand=\"block\" (click)=\"saveProduto()\">Gravar</ion-button>\r\n  <ion-button expand=\"block\" color=\"danger\" (click)=\"deleteProduto()\">Excluir</ion-button>\r\n  <ion-button expand=\"block\" (click)=\"voltar()\">Voltar</ion-button>\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CaddescontoscombustiveisPage } from './caddescontoscombustiveis.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CaddescontoscombustiveisPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CaddescontoscombustiveisPageRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { BombaService } from '../../../services/bomba/bomba.service';\r\nimport { CombustivelService } from '../../../services/combustivel/combustivel.service';\r\nimport { DescontoDataService } from '../../../services/desconto-data/desconto-data.service';\r\nimport { DescontosCombustiveis, Bomba, Combustivel } from '../../../services/database.service';\r\nimport { UtilService } from '../../../services/util/util.service';\r\n\r\n@Component({\r\n  selector: 'app-caddescontoscombustiveis',\r\n  templateUrl: './caddescontoscombustiveis.page.html',\r\n  styleUrls: ['./caddescontoscombustiveis.page.scss']\r\n})\r\nexport class CaddescontoscombustiveisPage implements OnInit {\r\n  bombas: Bomba[] = [];\r\n  bicos: string[] = [];\r\n  descontosCombustiveis: DescontosCombustiveis = {\r\n    iddesconto: null,\r\n    idcombustivel: 0,\r\n    idbomba: 0,\r\n    idbico: 0,\r\n    nome: '',\r\n    preco: 0,\r\n    totallitros: null,\r\n    totalprecocombustivel: 0,\r\n    totaldescontocombustivel: 0,\r\n    totaldescontorecebidocombustivel: 0,\r\n  };\r\n  index: number | null = null;\r\n\r\n  constructor(\r\n    private bombaService: BombaService,\r\n    private combustivelService: CombustivelService,\r\n    private descontoDataService: DescontoDataService,\r\n    private alertController: AlertController,\r\n    private router: Router,\r\n    private utilService: UtilService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loadBombas();\r\n    const currentData = this.descontoDataService.getCurrentDescontoCombustivel();\r\n    if (currentData) {\r\n      this.descontosCombustiveis = currentData.item;\r\n      this.index = currentData.index;\r\n      this.loadBicos(this.descontosCombustiveis.idbomba);\r\n      this.loadCombustivel(this.descontosCombustiveis.idbomba, this.descontosCombustiveis.idbico);\r\n    }\r\n  }\r\n\r\n  async loadBombas() {\r\n    this.bombas = await this.bombaService.getAllBombas();\r\n  }\r\n\r\n  async loadBicos(idbomba: number) {\r\n    this.bicos = await this.bombaService.getBicosByBomba(idbomba);\r\n  }\r\n\r\n  async loadCombustivel(idbomba: number, idbico: number) {\r\n    const combustivel = await this.combustivelService.getCombustivelByBombaAndBico(idbomba, idbico);\r\n    if (combustivel) {\r\n      this.descontosCombustiveis.idcombustivel = combustivel.id;\r\n      this.descontosCombustiveis.nome = combustivel.nome;\r\n      this.descontosCombustiveis.preco = this.utilService.verificarEConverterPreco(combustivel.preco);\r\n      this.calculateTotals();\r\n    }\r\n  }\r\n\r\n  calculateTotals() {\r\n    const preco = this.utilService.verificarEConverterPreco(this.descontosCombustiveis.preco);\r\n    const totallitros = this.utilService.verificarEConverterPreco(this.descontosCombustiveis.totallitros);\r\n    this.descontosCombustiveis.totalprecocombustivel = this.utilService.verificarEConverterPreco(preco * totallitros);\r\n    this.descontosCombustiveis.totaldescontocombustivel = 0;\r\n    this.descontosCombustiveis.totaldescontorecebidocombustivel = 0;\r\n  }\r\n\r\n  async saveProduto() {\r\n    if (this.descontosCombustiveis.totallitros <= 0) {\r\n      await this.utilService.showAlert('Erro', 'O total de litros deve ser maior que zero.');\r\n      return;\r\n    }\r\n\r\n    this.calculateTotals();\r\n\r\n    if (this.index !== null) {\r\n      this.descontoDataService.updateDescontoCombustivel(this.index, this.descontosCombustiveis);\r\n    } else {\r\n      this.descontoDataService.addDescontoCombustivel(this.descontosCombustiveis);\r\n    }\r\n\r\n    this.router.navigate(['/caddesconto']);\r\n  }\r\n\r\n  async deleteProduto() {\r\n    if (this.index !== null) {\r\n      const descontosCombustiveis = this.descontoDataService.getDescontosCombustiveis();\r\n      descontosCombustiveis.splice(this.index, 1);\r\n    }\r\n    this.router.navigate(['/caddesconto']);\r\n  }\r\n\r\n  async showAlert(header: string, message: string) {\r\n    const alert = await this.alertController.create({\r\n      header,\r\n      message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  voltar() {\r\n    this.router.navigate(['/caddesconto']);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CaddescontoscombustiveisPageRoutingModule } from './caddescontoscombustiveis-routing.module';\r\n\r\nimport { CaddescontoscombustiveisPage } from './caddescontoscombustiveis.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CaddescontoscombustiveisPageRoutingModule\r\n  ],\r\n  declarations: [CaddescontoscombustiveisPage]\r\n})\r\nexport class CaddescontoscombustiveisPageModule {}\r\n"],"x_google_ignoreList":[]}